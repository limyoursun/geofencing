<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>스마트 지오펜싱 재난정보 전달 플랫폼</title>
  <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.png">
  <link rel="stylesheet" href="../plugins/axicon/axicon.min.css">
  <link rel="stylesheet" href="../plugins/jquery-ui/themes/base/jquery-ui.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.css">
  <link rel="stylesheet" href="../plugins/jqGrid/css/ui.jqgrid.css">
  <link rel="stylesheet" href="../plugins/summernote/css/summernote-lite.css">
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/sub.css">
  <link rel="stylesheet" href="../css/pop.css">
</head>

<body>
  <div id="wrap">
    <header>
  <div class="hd_top flex_wrap f_sb">
    <h1 class="hd_logo">
      <a href="./main.html">
        <img src="../images/img_logo.png" alt="스마트 지오펜싱 재난정보 전달 플랫폼">
      </a>
    </h1>
    <div class="util_wrap flex_wrap f_e">
      <ul>
        <li>
          <span><a href="#" class="util user">내정보</a></span>
          <span><b>관리자</b>님 반갑습니다.</span>
        </li>
        <li class="alert_wrap">
          <a href="#" class="util alert">알림</a>
          <span class="on">2</span>
        </li>
        <li><a href="#" class="util log">로그인&sol;로그아웃</a></li>
      </ul>
    </div>
    <div class="system_wrap">
      <span class="system">시스템</span>
    </div>
  </div>
  <nav class="gnb">
    <ul>
      <li>
        <a href="./main.html">모니터링</a>
      </li>
      <li>
        <a href="./issue01.html">발령현황</a>
      </li>
      <li>
        <a href="./issue02.html">수동발령</a>
      </li>
      <li>
        <a href="#">발령이력</a>
      </li>
      <li class="on depth2_wrap">
        <a href="#">통계</a>
        <ul>
          <li class="on"><a href="#">재난발생통계</a></li>
          <li><a href="#">경보발령통계</a></li>
          <li><a href="#">모바일 사용자통계</a></li>
        </ul>
      </li>
      <li>
        <a href="#">환경설정</a>
      </li>
      <li>
        <a href="#">시스템관리</a>
      </li>
    </ul>
  </nav>
</header>
    <!-- Contents -->
    <div class="con_wrap">
      <div class="con_l">
        <div class="slide_tit flex_wrap f_sb">
          <h2>수동발령</h2>
        </div>
        <div class="slide_main none_scroll">
          <ul class="dot_list monitoring_detail">
            <li>
              <b><label for="type">승인요청</label></b>
              <select name="type">
                <option value="선택">선택</option>
                <option value="자연재난">자연재난</option>
              </select>
              <select name="type">
                <option value="선택">선택</option>
                <option value="호우">호우</option>
              </select>
              <select name="type">
                <option value="선택">선택</option>
                <option value="경보">경보</option>
              </select>
              <select name="type">
                <option value="선택">선택</option>
                <option value="발표">발표</option>
              </select>
            </li>
            <li>
              <b><label for="title">제&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;목</label></b>
              <input type="text" id="title" placeholder="제목을 입력하세요">
            </li>
            <li>
              <b><label for="situation1">재난상황</label></b>
              <ul class="media_select">
                <li>
                  <input checked type="radio" id="situation1">
                  <label for="situation1">실제</label>
                </li>
                <li>
                  <input type="radio" id="situation2">
                  <label for="situation2">훈련</label>
                </li>
                <li>
                  <input type="radio" id="situation3">
                  <label for="situation3">테스트</label>
                </li>
              </ul>
            </li>
            <li>
              <b><label for="type1">발령매체</label></b>
              <ul class="media_select">
                <li>
                  <input checked type="checkbox" id="type1">
                  <label for="type1">지자체</label>
                </li>
                <li>
                  <input type="checkbox" id="type2">
                  <label for="type2">민간</label>
                </li>
                <li>
                  <input type="checkbox" id="type3">
                  <label for="type3">유관기관</label>
                </li>
                <li>
                  <input checked type="checkbox" id="type4">
                  <label for="type4">모바일</label>
                </li>
              </ul>
            </li>
            <li>
              <b>발생시각</b>
              <span class="datetimepicker_wrap">
                <input type="text" id="datetimepicker" value="2021/11/08 12:00">
              </span>
              <button type="button" class="btn_s btn_blue" style="vertical-align:middle;">현재시각</button>
            </li>
            <li>
              <b><label for="locate">송출지역</label></b>
              <textarea name="locate"></textarea>
            <div class="btn_wrap alignR">
              <button type="button" class="btn_m btn_blue">문안생성</button>
            </div>
            </li>
          </ul>
          <ul class="monitoring_detail monitoring_text">
            <li>
              <div class="flex_wrap f_sb">
                <b>발령문안(전광판)</b>
                <p class="alignR"><span id="nowByte">39</span>/80 bytes</p>
              </div>
              <textarea disabled id="sms_templete" title="text_example"
                onkeyup="fn_checkByte(this)">Lorem ipsum dolor sit amet, consectetur</textarea>
            </li>
            <script>
              function fn_checkByte(obj) {
                const maxByte = 80; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  alert('최대 90Byte까지만 입력가능합니다.');
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "red";
                } else {
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "#3c7ed3";
                }
              }
            </script>

            <li>
              <div class="flex_wrap f_sb">
                <b>발령문안(버스정보)</b>
                <p class="alignR"><span id="nowByte">39</span>/180 bytes</p>
              </div>
              <textarea disabled id="sms_templete" title="text_example"
                onkeyup="fn_checkByte(this)">Lorem ipsum dolor sit amet, consectetur Lorem ipsum dolor sit amet, consectetur</textarea>
            </li>
            <script>
              function fn_checkByte(obj) {
                const maxByte = 180; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  alert('최대 90Byte까지만 입력가능합니다.');
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "red";
                } else {
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "#3c7ed3";
                }
              }
            </script>

            <li>
              <div class="flex_wrap f_sb">
                <b>발령문안(모바일)</b>
                <p class="alignR"><span id="nowByte2">102</span>/315 bytes</p>
              </div>
              <textarea disabled id="sms_templete2" title="text_example2"
                onkeyup="fn_checkByte2(this)">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent placerat sem a consectetur eleifend.</textarea>
            </li>
            <script>
              function fn_checkByte2(obj) {
                const maxByte = 315; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  alert('최대 180Byte까지만 입력가능합니다.');
                  document.getElementById("nowByte2").innerText = totalByte;
                  document.getElementById("nowByte2").style.color = "red";
                } else {
                  document.getElementById("nowByte2").innerText = totalByte;
                  document.getElementById("nowByte2").style.color = "#3c7ed3";
                }
              }
            </script>

          </ul>
          <div class="alignR">
            <button type="button" class="btn_approval btn_l btn_blue">승인요청</button>
          </div>
        </div>
      </div>
      <div class="con_r">
        <div class="nonemain">
          
        </div>
      </div>
      <div class="toast_alarm">
        <ul>
          <li class="rain flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
          <li class="fire flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <!-- // Contents -->
  </div>
  <div class="pop_overlay">
  <div class="pop_wrap p_issue01">
    <div class="pop_tit">
      <h1>비밀번호 변경</h1>
      <button type="button" class="btn_pop_close" closePop></button>
    </div>
    <div class="pop_body">
      <div class="pop_cont">
        <div class="pop_box flex_wrap">
          <i class="axi axi-exclamation-triangle"></i>
          <p>여기에 반려 사유를 보여준다.</p>
        </div>
        <div class="btn_wrap alignR">
          <button type="button" class="btn_cancel btn btn_gray">닫기</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

</script>
  <script src="../plugins/jquery/dist/jquery.min.js"></script>
<script src="../plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="../plugins/jquery-ui/ui/i18n/datepicker-ko.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.full.min.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/i18n/jquery-ui-timepicker-ko.js"></script>
<script src="../plugins/jqGrid/js/jquery.jqGrid.min.js"></script>
<script src="../plugins/jqGrid/js/i18n/grid.locale-kr.js"></script>
<script src="../plugins/smarteditor2/js/service/HuskyEZCreator.js"></script>
<script src="../plugins/summernote/js/summernote-lite.js"></script>
<script src="../plugins/summernote/js/lang/summernote-ko-KR.js"></script>
<script src="../js/ui_common.js"></script>
<script src="../js/file_attach.js"></script>

  <script>
    $('.btn_detailsearch').on('click', function () {
      $(this).toggleClass('on');
      $(this).prev('.detailsearch_wrap').slideToggle();
    })
    $(".btn_reason").on('click', function () {
      $('.p_issue01').parent('.pop_overlay').fadeIn();
    })


    
  </script>
</body>

</html>