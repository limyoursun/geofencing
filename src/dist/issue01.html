<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>스마트 지오펜싱 재난정보 전달 플랫폼</title>
  <link rel="shortcut icon" type="image/x-icon" href="../images/favicon.png">
  <link rel="stylesheet" href="../plugins/axicon/axicon.min.css">
  <link rel="stylesheet" href="../plugins/jquery-ui/themes/base/jquery-ui.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.css">
  <link rel="stylesheet" href="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.css">
  <link rel="stylesheet" href="../plugins/jqGrid/css/ui.jqgrid.css">
  <link rel="stylesheet" href="../plugins/summernote/css/summernote-lite.css">
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/sub.css">
  <link rel="stylesheet" href="../css/pop.css">
</head>

<body>
  <div id="wrap">
    <header>
  <div class="hd_top flex_wrap f_sb">
    <h1 class="hd_logo">
      <a href="./main.html">
        <img src="../images/img_logo.png" alt="스마트 지오펜싱 재난정보 전달 플랫폼">
      </a>
    </h1>
    <div class="util_wrap flex_wrap f_e">
      <ul>
        <li>
          <span><a href="#" class="util user">내정보</a></span>
          <span><b>관리자</b>님 반갑습니다.</span>
        </li>
        <li class="alert_wrap">
          <a href="#" class="util alert">알림</a>
          <span class="on">2</span>
        </li>
        <li><a href="#" class="util log">로그인&sol;로그아웃</a></li>
      </ul>
      <div class="system_wrap">
        <span class="system">시스템</span>
      </div>
    </div>
  </div>
  <nav class="gnb">
    <ul>
      <li>
        <a href="./main.html">모니터링</a>
      </li>
      <li class="on">
        <a href="./issue01.html">발령현황</a>
      </li>
      <li>
        <a href="./issue02.html">수동발령</a>
      </li>
      <li>
        <a href="./issue03.html">발령이력</a>
      </li>
      <li class="depth2_wrap">
        <a href="./stats01.html">통계</a>
        <ul>
          <li><a href="./stats01.html">재난발생통계</a></li>
          <li><a href="./stats02.html">경보발령통계</a></li>
          <li><a href="#">모바일 사용자통계</a></li>
        </ul>
      </li>
      <li>
        <a href="./setting.html">환경설정</a>
      </li>
      <li>
        <a href="./admin.html">시스템관리</a>
      </li>
    </ul>
  </nav>
</header>
<div class="pop_overlay">
  <div class="pop_wrap p_alert">
    <div class="pop_tit">
      <h1>알림 리스트</h1>
      <button type="button" class="btn_pop_close"></button>
    </div>
    <div class="pop_body">
      <div class="pop_cont">
        <div>
          <div class="search_area">
            <ul class="search f_s">
              <li>
                <label for="di_info"><b>재난정보</b></label>
                <select id="di_info">
                  <option value="전체">전체</option>
                  <option value="호우경보발표">호우경보발표</option>
                </select>
              </li>
              <li>
                <label for="date_timepicker_start0"><b>조회대상기간</b></label>
                <span class="period period_multi">
                  <input type="text" id="date_timepicker_start0" class="input_calendar" value="YYYY/MM/DD"
                    placeholder="기간 시작일 선택" title="기간 시작일 선택">
                  <input type="text" id="date_timepicker_end0" class="input_calendar" value="YYYY/MM/DD"
                    placeholder="기간 종료일 선택" title="기간 종료일 선택">
                </span>
              </li>
              <li>
                <label for="searchvalue"><b>검색어</b></label>
                <input type="text" id="searchvalue" placeholder="검색어">
                <button type="button" class="btn_skyblue">검색</button>
              </li>
            </ul>
          </div>
          <div class="tbl_wrap">
            <table class="tbl_default">
              <caption>알림 리스트</caption>
              <colgroup>
                <col style="width:40px">
                <col style="width:140px">
                <col style="width:220px">
                <col style="width:140px">
                <col style="width:140px">
              </colgroup>
              <thead>
                <tr>
                  <th scope="col">No.</th>
                  <th scope="col">재난정보</th>
                  <th scope="col">발생지역</th>
                  <th scope="col">처리상태</th>
                  <th scope="col">알림시간</th>
                </tr>
              </thead>
              <tbody>
                <tr class="on">
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
                <tr>
                  <td></td>
                  <td>호우경보발표</td>
                  <td>서울 구로구</td>
                  <td>승인</td>
                  <td>2020-08-12 12:34:56</td>
                </tr>
              </tbody>
            </table>
            <div class="paginate">
              <a href="#" class="first" title="처음">〈〈</a>
              <a href="#" class="pre" title="이전">〈</a>
              <span>
                <a href="#" class="on">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#">4</a>
              </span>
              <a href="#" class="next" title="다음">〉</a>
              <a href="#" class="last" title="마지막">〉〉</a>
            </div>
          </div>
        </div>
        <div class="btn_wrap alignC">
          <button type="button" class="btn_l btn_gray">닫기</button>
        </div>
      </div>
    </div>
  </div>
</div>
    <!-- Contents -->
    <div class="con_wrap">
      <div class="con_l_wrap">
        <div class="con_l con_main">
          <div class="slide_tit flex_wrap f_sb">
            <h2>발령현황</h2>
          </div>
          <div class="slide_sub">
            <div class="search_area">
              <div class="search_wrap flex_wrap">
                <select title="type">
                  <option value="전체">전체</option>
                </select>
                <select title="type">
                  <option value="전체">전체</option>
                </select>
                <button type="button" class="btn_skyblue">검색</button>
              </div>
              <div class="detailsearch_wrap">
                <ul class="search f_sb">
                  <li>
                    <span class="period period_multi">
                      <input type="text" id="date_timepicker_start" class="input_calendar" value="YYYY/MM/DD"
                        placeholder="기간 종료일 선택" title="기간 종료일 선택">
                      <input type="text" id="date_timepicker_end" class="input_calendar" value="YYYY/MM/DD"
                        placeholder="기간 종료일 선택" title="기간 종료일 선택">
                    </span>
                  </li>
                  <li>
                    <select title="전체">
                      <option value="전체">전체</option>
                    </select>
                    <input type="text" title="location" class="search_input" placeholder="검색어">
                  </li>
                </ul>
              </div>
              <div class="btn_detailsearch">상세검색</div>
            </div>
            <div class="tbl_wrap">
              <div class="tbl_top flex_wrap f_sb">
                <p>전체 <span>12</span>건 &sol;
                  승인 <span>10</span>건 &sol;
                  반려 <span>2</span>건 &sol;
                  <span class="font_blue font_b">승인요청 <span>1</span>건</span>
                </p>
                <button type="button" class="btn_s btn_green"><b>엑셀다운</b></button>
              </div>
              <table class="tbl_default tbl_s">
                <colgroup>
                  <col style="width:50px">
                  <col style="width:140px">
                  <col style="width:220px">
                  <col style="width:140px">
                  <col style="width:120px">
                </colgroup>
                <thead>
                  <tr>
                    <th scope="col">유형</th>
                    <th scope="col">재난명</th>
                    <th scope="col">발생지역</th>
                    <th scope="col">요청일시</th>
                    <th scope="col">최종상태</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="on">
                    <td onclick="main2()">
                      <ul class="type_wrap">
                        <li class="auto"></li>
                      </ul>
                    </td>
                    <td>호우</td>
                    <td>서울 구로구</td>
                    <td>2020-08-12 12:34:56</td>
                    <td>승인요청</td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td>대규모 화재</td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>승인</td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <ul class="type_wrap">
                        <li class="manual"></li>
                      </ul>
                    </td>
                    <td></td>
                    <td></td>
                    <td>2020-08-12 12:34:56</td>
                    <td>
                      <button class="btn_reason btn_s btn_pink">반려(사유)</button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="paginate">
                <a href="#" class="first" title="처음">〈〈</a>
                <a href="#" class="pre" title="이전">〈</a>
                <span>
                  <a href="#" class="on">1</a>
                  <a href="#">2</a>
                  <a href="#">3</a>
                  <a href="#">4</a>
                </span>
                <a href="#" class="next" title="다음">〉</a>
                <a href="#" class="last" title="마지막">〉〉</a>
              </div>
            </div>
          </div>
          <div class="btn_slide"></div>
        </div>
        <div class="con_l con_sub">
          <div>
            <div class="disaster_type flex_wrap">
              <h3 class="heavy_rain">호우경보 발표</h3>
              <ul class="type_wrap">
                <li class="auto"></li>
              </ul>
            </div>
            <ul class="dot_list monitoring_detail">
              <li>
                <b>승인요청</b>
                <ul class="breadcrumb">
                  <li>자연재난</li>
                  <li>호우</li>
                  <li>경보</li>
                  <li>발표</li>
                </ul>
              </li>
              <li>
                <b>발령매체</b>
                <ul class="media_select">
                  <li>
                    <input checked type="checkbox" id="type1">
                    <label for="type1">지자체</label>
                  </li>
                  <li>
                    <input disabled type="checkbox" id="type2">
                    <label for="type2">민간</label>
                  </li>
                  <li>
                    <input disabled type="checkbox" id="type3">
                    <label for="type3">유관기관</label>
                  </li>
                  <li>
                    <input disabled type="checkbox" id="type4">
                    <label for="type4">모바일</label>
                  </li>
                </ul>
              </li>
              <li>
                <b>발생시각</b>
                <span>2020-08-12 12:30:56</span>
              </li>
              <li class="list_area">
                <b>발생지역</b>
                <span>서울특별시 구로구</span>
                <span>서울특별시 금천구</span>
              </li>
            </ul>
            <div class="alignC">
              <img src="../images/img_main_02.png" alt="호우주의보 임시이미지">
            </div>
            <ul class="monitoring_detail monitoring_text">
              <li>
                <div class="flex_wrap f_sb">
                  <b>발령문안(전광판)</b>
                  <p class="alignR"><span id="nowByte">39</span>/90 bytes</p>
                </div>
                <textarea disabled id="sms_templete" title="text_example"
                  onkeyup="fn_checkByte(this)">Lorem ipsum dolor sit amet, consectetur</textarea>
              </li>
              <script>
                function fn_checkByte(obj) {
                  const maxByte = 90; //최대 90바이트
                  const text_val = obj.value; //입력한 문자
                  const text_len = text_val.length; //입력한 문자수

                  let totalByte = 0;
                  for (let i = 0; i < text_len; i++) {
                    const each_char = text_val.charAt(i);
                    const uni_char = escape(each_char) //유니코드 형식으로 변환
                    if (uni_char.length > 4) {
                      // 한글 : 2Byte
                      totalByte += 2;
                    } else {
                      // 영문,숫자,특수문자 : 1Byte
                      totalByte += 1;
                    }
                  }
                  if (totalByte > maxByte) {
                    alert('최대 90Byte까지만 입력가능합니다.');
                    document.getElementById("nowByte").innerText = totalByte;
                    document.getElementById("nowByte").style.color = "red";
                  } else {
                    document.getElementById("nowByte").innerText = totalByte;
                    document.getElementById("nowByte").style.color = "#3c7ed3";
                  }
                }
              </script>

              <li>
                <div class="flex_wrap f_sb">
                  <b>발령문안(버스정보)</b>
                  <p class="alignR"><span id="nowByte2">102</span>/180 bytes</p>
                </div>
                <textarea disabled id="sms_templete2" title="text_example2"
                  onkeyup="fn_checkByte2(this)">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent placerat sem a consectetur eleifend.</textarea>
              </li>
              <script>
                function fn_checkByte2(obj) {
                  const maxByte = 180; //최대 90바이트
                  const text_val = obj.value; //입력한 문자
                  const text_len = text_val.length; //입력한 문자수

                  let totalByte = 0;
                  for (let i = 0; i < text_len; i++) {
                    const each_char = text_val.charAt(i);
                    const uni_char = escape(each_char) //유니코드 형식으로 변환
                    if (uni_char.length > 4) {
                      // 한글 : 2Byte
                      totalByte += 2;
                    } else {
                      // 영문,숫자,특수문자 : 1Byte
                      totalByte += 1;
                    }
                  }
                  if (totalByte > maxByte) {
                    alert('최대 180Byte까지만 입력가능합니다.');
                    document.getElementById("nowByte2").innerText = totalByte;
                    document.getElementById("nowByte2").style.color = "red";
                  } else {
                    document.getElementById("nowByte2").innerText = totalByte;
                    document.getElementById("nowByte2").style.color = "#3c7ed3";
                  }
                }
              </script>

            </ul>
            <div>
              <button type="button" class="btn_approval btn_l btn_blue">발령승인</button>
              <button type="button" class="btn_reject btn_l btn_skyblue">반려</button>
              <button type="button" class="btn_l btn_gray">수정요청</button>
            </div>
          </div>
          <div class="btn_subclose">
            <i class="axi axi-close"></i>
          </div>
          <div class="btn_slide"></div>
        </div>
      </div>








      <div class="con">
        <div class="weather_wrap">
          <span class="btn_weather sunny on">23℃ 맑음</span>
          <div class="con_weather">
            <div class="flex_wrap f_sb">
              <h3>
                <span>서울시 금천구</span>
                <span>(15시 기준)</span>
              </h3>
              <button class="btn_weather_close">
                <i class="axi axi-close"></i>
              </button>
            </div>
            <div>
              <img src="../images/img_weather.png" alt="날씨 임시 이미지">
            </div>
          </div>
        </div>
        <div class="request_wrap" id="draggable">
          <div class="request_spot rain" style="position:absolute;top:22%;left:36%;">
            <span>호우경보 발표</span>
            <ul class="type_wrap">
              <li class="request"></li>
            </ul>
          </div>
          <img src="../images/bg_main_02.png" alt="임시 배경">
        </div>
      </div>
      <div class="toast_alarm">
        <ul>
          <li class="rain flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
          <li class="fire flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
        </ul>
      </div>

    </div>
    <!-- // Contents -->
  </div>
  <div class="pop_overlay">
  <div class="pop_wrap p_issue01">
    <div class="pop_tit">
      <h1>반려 사유</h1>
      <button type="button" class="btn_pop_close"></button>
    </div>
    <div class="pop_body">
      <div class="pop_cont">
        <div class="pop_box alignC">
          <span class="alert">경고 아이콘</span>
          <p>해당 요청건이 <b>어떠한 사유</b>로 <b>반려</b> 처리되었습니다.<br>다시 확인하시기 바랍니다.</p>
        </div>
        <div class="btn_wrap alignC">
          <button type="button" class="btn_cancel btn_l btn_gray">닫기</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

</script>
  <script src="../plugins/jquery/dist/jquery.min.js"></script>
<script src="../plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="../plugins/jquery-ui/ui/i18n/datepicker-ko.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/jquery-ui-timepicker-addon.min.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/jquery.datetimepicker.full.min.js"></script>
<script src="../plugins/jqueryui-timepicker-addon/dist/i18n/jquery-ui-timepicker-ko.js"></script>
<script src="../plugins/jqGrid/js/jquery.jqGrid.min.js"></script>
<script src="../plugins/jqGrid/js/i18n/grid.locale-kr.js"></script>
<script src="../plugins/echarts/dist/echarts.min.js"></script>
<script src="../js/ui_common.js"></script>
<script src="../js/file_attach.js"></script>
  <div class="pop_overlay">
  <div class="pop_wrap p_main03_1">
    <div class="pop_tit">
      <h1>발령승인</h1>
      <button type="button" class="btn_pop_close"></button>
    </div>
    <div class="pop_body">
      <div class="pop_cont">
        <div class="pop_box">
          <span class="alert">경고 아이콘</span>
          <p><b>아래 요청건에 대한 승인을 진행하겠습니까?</b></p>
        </div>
        <div class="text_sample">
          <h3>호우경보 발표</h3>
          <ul class="dot_list monitoring_detail">
            <li>
              <b>발생지역</b>
              <span>서울 구로구</span>
            </li>
            <li>
              <b>요청시각</b>
              <span>2021-08-22 10:35:15</span>
            </li>
          </ul>
        </div>
        <div class="btn_wrap alignC">
          <button type="button" class="btn_l btn_blue">확인</button>
          <button type="button" class="btn_cancel btn_l btn_gray">취소</button>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="pop_overlay">
  <div class="pop_wrap p_main03_2">
    <div class="pop_tit">
      <h1>반려</h1>
      <button type="button" class="btn_pop_close"></button>
    </div>
    <div class="pop_body">
      <div class="pop_cont">
        <div class="pop_box">
          <span class="alert">경고 아이콘</span>
          <p>
            <b>해당 요청건을 반려합니다.</b><br>
            하기 반려사유를 작성해주세요.
          </p>
        </div>
        <div class="text_sample">
          <label for="reject_reason"><b>반려사유 :</b></label>
          <input type="text" id="reject_reason">
        </div>
        <div class="btn_wrap alignC">
          <button type="button" class="btn_l btn_blue">확인</button>
          <button type="button" class="btn_cancel btn_l btn_gray">취소</button>
        </div>
      </div>
    </div>
  </div>
</div>
  <script>
    $(".btn_approval").on('click', function () {
      $('.p_main03_1').parent('.pop_overlay').fadeIn();
    })
    $(".btn_reject").on('click', function () {
      $('.p_main03_2').parent('.pop_overlay').fadeIn();
    })
    $('.btn_detailsearch').on('click', function () {
      $(this).toggleClass('on');
      $(this).prev('.detailsearch_wrap').slideToggle();
    })
    $(".btn_reason").on('click', function () {
      $('.p_issue01').parent('.pop_overlay').fadeIn();
    })
  </script>
</body>

</html>