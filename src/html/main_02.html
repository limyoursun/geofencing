@@include('inc/top.html')

<body>
  <div id="wrap">
    @@include('inc/header.html')
    <!-- Contents -->
    <div class="con_wrap">
      <div class="slide_con">
        <div class="slide_tit flex_wrap f_sb">
          <h2>실시간 모니터링</h2>
          <i class="axi axi-info-outline">
            <div class="how_to_use">
              <h3 class="font_blue font_b">스마트 지오펜싱 재난정보 전달시스템 사용법</h3>
              <ul class="dot_list">
                <li>실시간 모니터링 목록을 확인한다.(자동 새로고침 적용, 주기 30초)</li>
                <li>승인요청(실제) 접수시 “승인 요청 알림(팝업)” 화면으로 알림을 확인한다.(훈련 및 테스트 제외)</li>
                <li>알림화면에서 해당 “재난경보 승인 바로가기“ 버튼을 누르고 해당 재난경보 내용을 확인한다.</li>
                <li>재난경보 내용을 확인/편집한 후 하단의 송출/반려 버튼을 누른다.(단, 반려시 반려사유 필수 입력)</li>
                <li>재난경보 내용 편집시 하단의 수정요청 버튼을 누른다.</li>
                <li>여러건의 재난경보 송출시 현재시각으로부터 5분이내 송출건이 있을 경우 알림을 제공한다.</li>
              </ul>
            </div>
          </i>
        </div>
        <div class="live_wrap flex_wrap f_sb">
          <div>
            <span>2021.08.27</span>
            <span>실시간 재난발생 현황</span>
            <span class="font_blue font_b">승인요청</span>
            <span class="font_blue font_b">2</span>
            <span class="font_blue font_b">건</span>
          </div>
          <i class="axi axi-bell2"></i>
        </div>
        <div class="slide_sub">
          <div class="alignR">
            <button type="button" class="btn_s btn_grayline">목록보기</button>
          </div>
          <div class="disaster_type flex_wrap">
            <h3 class="heavy_rain">호우경보 발표</h3>
            <ul class="type_wrap">
              <li class="auto"></li>
            </ul>
          </div>
          <ul class="dot_list monitoring_detail">
            <li>
              <b>승인요청</b>
              <span>
                <ul class="breadcrumb">
                  <li>자연재난</li>
                  <li>호우</li>
                  <li>경보</li>
                  <li>발표</li>
                </ul>
              </span>
            </li>
            <li>
              <b>발령매체</b>
              <ul class="media_select">
                <li>
                  <input type="checkbox" id="type1">
                  <label for="type1">지자체</label>
                </li>
                <li>
                  <input type="checkbox" id="type2">
                  <label for="type2">민간</label>
                </li>
                <li>
                  <input type="checkbox" id="type3">
                  <label for="type3">유관기관</label>
                </li>
                <li>
                  <input type="checkbox" id="type4">
                  <label for="type4">모바일</label>
                </li>
              </ul>
            </li>
            <li>
              <b>발생시각</b>
              <span>2020-08-12 12:30:56</span>
            </li>
            <li class="list_area">
              <b>발생지역</b>
              <span>서울특별시 구로구</span>
              <span>서울특별시 금천구</span>
            </li>
          </ul>
          <img src="../images/img_main_02.png" alt="호우주의보 임시이미지">

          <ul class="monitoring_detail monitoring_text">
            <li>
              <div class="flex_wrap f_sb">
                <b>발령문안(전광판)</b>
                <p class="alignR"><span id="nowByte">0</span>/90 bytes</p>
              </div>
              <textarea id="sms_templete" title="text_example" onkeyup="fn_checkByte(this)"></textarea>
            </li>

            <script>
              function fn_checkByte(obj) {
                const maxByte = 90; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  alert('최대 90Byte까지만 입력가능합니다.');
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "red";
                } else {
                  document.getElementById("nowByte").innerText = totalByte;
                  document.getElementById("nowByte").style.color = "#3c7ed3";
                }
              }
            </script>

            <li>
              <div class="flex_wrap f_sb">
                <b>발령문안(버스정보)</b>
                <p class="alignR"><span id="nowByte2">0</span>/180 bytes</p>
              </div>
              <textarea id="sms_templete2" title="text_example2" onkeyup="fn_checkByte2(this)"></textarea>
            </li>

            <script>
              function fn_checkByte2(obj) {
                const maxByte = 180; //최대 90바이트
                const text_val = obj.value; //입력한 문자
                const text_len = text_val.length; //입력한 문자수

                let totalByte = 0;
                for (let i = 0; i < text_len; i++) {
                  const each_char = text_val.charAt(i);
                  const uni_char = escape(each_char) //유니코드 형식으로 변환
                  if (uni_char.length > 4) {
                    // 한글 : 2Byte
                    totalByte += 2;
                  } else {
                    // 영문,숫자,특수문자 : 1Byte
                    totalByte += 1;
                  }
                }
                if (totalByte > maxByte) {
                  alert('최대 180Byte까지만 입력가능합니다.');
                  document.getElementById("nowByte2").innerText = totalByte;
                  document.getElementById("nowByte2").style.color = "red";
                } else {
                  document.getElementById("nowByte2").innerText = totalByte;
                  document.getElementById("nowByte2").style.color = "#3c7ed3";
                }
              }
            </script>

          </ul>
          <div>
            <button type="button" class="btn_l btn_blue">발령승인</button>
            <button type="button" class="btn_l btn_skyblue">반려</button>
            <button type="button" class="btn_l btn_gray">수정요청</button>
          </div>
        </div>
        <div class="btn_slide"></div>
      </div>
      <div class="con">
        <div class="weather_wrap">
          <span class="btn_weather sunny on">23℃ 맑음</span>
          <div class="con_weather">
            <div class="flex_wrap f_sb">
              <h3>
                <span>서울시 금천구</span>
                <span>(15시 기준)</span>
              </h3>
              <button class="btn_weather_close">
                <i class="axi axi-close"></i>
              </button>
            </div>
            <div>
              <img src="../images/img_weather.png" alt="날씨 임시 이미지">
            </div>
          </div>
        </div>
        <div class="request_wrap" id="draggable">
          <div class="request_spot rain" style="position:absolute;top:22%;left:36%;">
            <span>호우경보 발표</span>
            <ul class="type_wrap">
              <li class="request"></li>
            </ul>
          </div>
          <img src="../images/bg_main_02.png" alt="임시 배경">

        </div>
      </div>
      <div class="toast_alarm">
        <ul>
          <li class="rain flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
          <li class="fire flex_wrap f_sb">
            <div>
              <img src="../images/ico_toast.png" alt="경고 아이콘">
              <span>[<span>호우경보발표</span>] 재난정보 승인요청이 접수되었습니다.</span>
            </div>
            <div>
              <span>12:34:56</span>
              <button type="button">
                <i class="axi axi-close"></i>
              </button>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <!-- // Contents -->
  </div>
  @@include('inc/script.html')

</body>

</html>





<!-- 여기에서부터 하기!!!!!!! -->